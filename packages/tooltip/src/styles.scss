@use "@spider-ui/sass/variables" as *;
@use "@spider-ui/sass/mixins" as *;
@use "@spider-ui/sass";

.tooltip {
  position: relative;
  display: inline-block;
}

::slotted([slot="content"]) {
  @include pointer--none;
  @include opacity--0;

  padding: 4px 6px;
  border-radius: 4px;
  position: absolute;
  display: block;
  transition: opacity ease-out 0.3s;
  word-wrap: break-word;
  white-space: nowrap;
  text-align: center;
  z-index: 1500;
  font-size: 14px;

  // modes

  .light & {
    border: $tooltip-border--light;
    background: $tooltip-background-color--light;
    color: $tooltip-color--light;
  }

  .dark & {
    border: $tooltip-border--dark;
    background: $tooltip-background-color--dark;
    color: $tooltip-color--dark;
  }

  // visibility

  .visible & {
    @include pointer--auto;
    @include opacity--1;
  }

  // position

  .block-start & {
    left: 0; // This is a fallback.
    bottom: 100%;
    margin: 0 0 $global-arrow-size 0;
  }

  .inline-end & {
    left: 100%;
    margin-left: $global-arrow-size;
    margin-top: 0;
    margin-bottom: 0;
    bottom: auto;
    top: 0; // This is a fallback.
  }

  .inline-start & {
    right: 100%;
    left: auto;
    margin-right: $global-arrow-size;
    margin-top: 0;
    margin-bottom: 0;
    bottom: auto;
    top: 0; // This is a fallback.
  }

  .block-end & {
    left: 0; // This is a fallback.
    top: 100%;
    margin: $global-arrow-size 0 0 0;
    bottom: auto;
  }

  // dark mode arrow

  .dark.block-start.arrow & {
    @include create-down-arrow(
      $tooltip-arrow-offset,
      $tooltip-arrow-background-color--dark,
      $tooltip-arrow-border-color--dark
    );
  }

  .dark.inline-end.arrow & {
    @include create-left-arrow(
      $tooltip-arrow-offset,
      $tooltip-arrow-background-color--dark,
      $tooltip-arrow-border-color--dark
    );
  }

  .dark.inline-start.arrow & {
    @include create-right-arrow(
      $tooltip-arrow-offset,
      $tooltip-arrow-background-color--dark,
      $tooltip-arrow-border-color--dark
    );
  }

  .dark.block-end.arrow & {
    @include create-up-arrow(
      $tooltip-arrow-offset,
      $tooltip-arrow-background-color--dark,
      $tooltip-arrow-border-color--dark
    );
  }

  // light mode arrow

  .light.block-start.arrow & {
    @include create-down-arrow(
      $tooltip-arrow-offset,
      $tooltip-arrow-background-color--light,
      $tooltip-arrow-border-color--light
    );
  }

  .light.inline-end.arrow & {
    @include create-left-arrow(
      $tooltip-arrow-offset,
      $tooltip-arrow-background-color--light,
      $tooltip-arrow-border-color--light
    );
  }

  .light.inline-start.arrow & {
    @include create-right-arrow(
      $tooltip-arrow-offset,
      $tooltip-arrow-background-color--light,
      $tooltip-arrow-border-color--light
    );
  }

  .light.block-end.arrow & {
    @include create-up-arrow(
      $tooltip-arrow-offset,
      $tooltip-arrow-background-color--light,
      $tooltip-arrow-border-color--light
    );
  }
}
